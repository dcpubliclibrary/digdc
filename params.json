{
  "name": "Dig DC API Documentation",
  "tagline": "",
  "body": "Dig DC is the online home for the DC Public Library's Special Collections. If you visit it, you can find historical DC cartoons, photographs, maps, oral histories, postcards, and other ephemera, as well as extensive metadata about each item. Cool, right? The site uses a platform called CONTENTdm, which is used by many, many libraries across the country. ContentDM's API documentation is minimal, so this page covers what you need to know to see what collections are on Dig DC, view what they contain, and download collection files.\r\n\r\nThis documentation were created for DC Public Library by Code For DC volunteer Emanuel Feld.\r\n\r\n## Get a list of the collections\r\n\r\nEndpoint:\r\n\r\n    https://server16808.contentdm.oclc.org/dmwebservices/index.php?q=dmGetCollectionList/json\r\n\r\nExample Query:\r\n\r\n    $ curl https://server16808.contentdm.oclc.org/dmwebservices/index.php?q=dmGetCollectionList/json | python -mjson.tool\r\n\r\nExample Response:\r\n\r\n    [\r\n        {\r\n            \"alias\": \"/p16808coll5\",\r\n            \"name\": \"Clifford Berryman Cartoon Collection\",\r\n            \"path\": \"/cdm/sites/16808/data/p16808coll5\",\r\n            \"secondary_alias\": \"p16808coll5\"\r\n        },\r\n        {\r\n            \"alias\": \"/p16808coll12\",\r\n            \"name\": \"Darrell C. Crain, Jr. Photograph Collection\",\r\n            \"path\": \"/cdm/sites/16808/data/p16808coll12\",\r\n            \"secondary_alias\": \"7\"\r\n        },\r\n        [...]\r\n        {\r\n            \"alias\": \"/p16808coll15\",\r\n            \"name\": \"Maps - City & Regional\",\r\n            \"path\": \"/cdm/sites/16808/data/p16808coll15\",\r\n            \"secondary_alias\": \"10\"\r\n        }\r\n    ]\r\n\r\n## Get the items in a collection\r\n\r\nEndpoint:\r\n\r\n    https://server16808.contentdm.oclc.org/dmwebservices/index.php?q=dmQuery/<collection_alias>/json\r\n\r\nExample Query:\r\n\r\n    $ curl https://server16808.contentdm.oclc.org/dmwebservices/index.php\\?q\\=dmQuery/p16808coll5/json | python -mjson.tool\r\n\r\nExample Response:\r\n\r\n    {\r\n        \"pager\": {\r\n            \"maxrecs\": null,\r\n            \"start\": null,\r\n            \"total\": 131\r\n        },\r\n        \"records\": [\r\n            {\r\n                \"\": \"\",\r\n                \"collection\": \"/p16808coll5\",\r\n                \"filetype\": \"jp2\",\r\n                \"find\": \"18.jp2\",\r\n                \"parentobject\": -1,\r\n                \"pointer\": 17\r\n            },\r\n            [...]\r\n            {\r\n                \"\": \"\",\r\n                \"collection\": \"/p16808coll5\",\r\n                \"filetype\": \"jp2\",\r\n                \"find\": \"15.jp2\",\r\n                \"parentobject\": -1,\r\n                \"pointer\": 14\r\n            }\r\n        ]\r\n    }\r\n\r\n## Get the details of a record in a collection:\r\n\r\nEndpoint:\r\n\r\n    https://server16808.contentdm.oclc.org/dmwebservices/index.php?q=dmGetItemInfo/<collection_alias>/<record_pointer>/json\r\n\r\nExample Query:\r\n\r\n    $ curl https://server16808.contentdm.oclc.org/dmwebservices/index.php?q=dmGetItemInfo/p16808coll5/17/json | python -mjson.tool\r\n\r\nExample Response:\r\n\r\n    {\r\n        \"cdmfilesize\": \"17085567\",\r\n        \"cdmfilesizeformatted\": \"16.29 MB\",\r\n        \"cdmhasocr\": \"0\",\r\n        \"cdmisnewspaper\": \"0\",\r\n        \"cdmprintpdf\": \"0\",\r\n        \"creato\": \"Berryman, Clifford Kennedy, 1869-1949\",\r\n        \"date\": {},\r\n        \"datea\": \"2013-09-13\",\r\n        \"dateb\": {},\r\n        \"descri\": \"Unfinished portrait of an unidentified man, partially scratched out.\",\r\n        \"dmaccess\": {},\r\n        \"dmcreated\": \"2014-01-04\",\r\n        \"dmimage\": {},\r\n        \"dmmodified\": \"2015-10-06\",\r\n        \"dmoclcno\": {},\r\n        \"dmrecord\": \"17\",\r\n        \"file\": \"dcpl_p008_009p2\",\r\n        \"find\": \"18.jp2\",\r\n        \"format\": \"Image/jpeg\",\r\n        \"fullrs\": \"Volume1/dcpl_p008_009p2.tif\",\r\n        \"identi\": \"Clifford Berryman Cartoon Collection\",\r\n        \"langua\": \"eng\",\r\n        \"medium\": \"Drawings\",\r\n        \"neighb\": {},\r\n        \"notes\": \"Drawing is on the back of dcpl_p008_009p1; No title on drawing, title supplied by cataloger\",\r\n        \"publis\": \"DC Public Library, Special Collections\",\r\n        \"restrictionCode\": \"1\",\r\n        \"rights\": \"Publication rights for this image can be granted by DC Public Library.\",\r\n        \"source\": \"Original version: pen and ink drawing on poster board; DC Public Library, Special Collections, P8 Clifford Berryman Cartoon Collection, Series 1, Drawing 9, verso\",\r\n        \"subjec\": \"Sketches\",\r\n        \"techni\": \"Filename: dcpl_p008_009p2.tif; ByteOrder: little-endian; CompressionScheme: 1; ColorSpace: 1; FileSize: 34538590; Orientation: 1; ImageProducer: Backstage Library Works for DC Public Library; ScannerMake: Phase One; ScannerModel: IQ180; ScannerSoftware: Adobe Photoshop CS3 Windows; Resolution: 400; ImageWidth: 5977; ImageLength: 5774; BitsPerSample: 8; SamplesPerPixel: 1; Checksum: a4886739e992c580d9e9b4f5a0a4bf9f\",\r\n        \"title\": \"Unfinished portrait\",\r\n        \"transc\": {},\r\n        \"type\": \"Still Image\"\r\n    }\r\n\r\n## Download a record's file\r\n\r\nEndpoint:\r\n\r\n    http://digdc.dclibrary.org/utils/getfile/collection/<collection_alias>/id/<record_pointer>/filename/<record_find>\r\n\r\nExample Query:\r\n\r\n    $ curl http://digdc.dclibrary.org/utils/getfile/collection/p16808coll5/id/17/filename/18.jp2 > image.jp2\r\n\r\nExample Response:\r\n\r\n![image](https://cloud.githubusercontent.com/assets/4269640/13532277/99a8bd2a-e1f8-11e5-8a0a-5dcf97b65048.jpg)\r\n",
  "google": "UA-61502361-1",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}